@model IpWebApp.Controllers.LocationsController.RecoredLocation
@{
    ViewBag.Title = "GroupByCountry";
}
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>

<h2>Group By Country</h2>

    <div id="container" class="graph2">
        <br/>
        <table id="datatable" class="datatable">
            <thead>
            <tr>
                <th scope="col">Country Name</th>
                <th scope="col">Number of Records</th>
            </tr>
            </thead>
            <tbody>
            @foreach (var item in (ViewBag.data))
            {
                <tr>
                    <td>

                        @(item.key)
                    </td>
                    <td>

                        @(item.cnt)
                    </td>

                </tr>
            }

            </tbody>
        </table>

    </div>


<br/>

<script>
    Highcharts.chart('container', {
        data: {
            table: 'datatable'
        },
        chart: {
            type: 'column'
        },
        title: {
            text: 'What is the most popular country'
        },
        yAxis: {
            allowDecimals: false,
            title: {
                text: 'Number of Current Record in country'
            }
        },
        tooltip: {
            formatter: function () {
                return '<b>' + this.key + '</b><br/>' +
                    this.point.y + ' ' + this.cnt;
            }
        }

    });
</script>
